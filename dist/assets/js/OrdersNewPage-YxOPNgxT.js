import{u as e,b as s}from"./vendor-CdERBfzr.js";import{F as a,a as i,b as l,c as r,d as n,e as c}from"./index.esm-DiZYQx0V.js";import{j as t}from"./index-CHAJO785.js";const o=()=>{const o=e(),[d,m]=s.useState({clientName:"",clientEmail:"",clientPhone:"",orderType:"tshirt",quantity:1,designType:"simple",colors:["#3B82F6"],dueDate:"",priority:"medium",specialInstructions:"",pricePerUnit:5e3,deposit:0}),[p]=s.useState([{id:1,name:"Entreprise TechMad",email:"contact@techmad.mg",phone:"+261 32 12 345 67"},{id:2,name:"Boutique Fashion MG",email:"order@fashionmg.mg",phone:"+261 33 12 345 68"},{id:3,name:"Hotel Ravinala",email:"procuration@ravinalahotel.mg",phone:"+261 34 12 345 69"},{id:4,name:"Restaurant La Terrasse",email:"gestion@laterrasse.mg",phone:"+261 32 12 345 70"},{id:5,name:"Agence Tourisme Aventure",email:"reservation@aventure.mg",phone:"+261 38 12 345 71"}]),u=[{value:"tshirt",label:"T-shirt",icon:"üëï",basePrice:5e3},{value:"sweatshirt",label:"Sweatshirt",icon:"üß•",basePrice:1e4},{value:"polo",label:"Polo",icon:"üëî",basePrice:7500},{value:"uniform",label:"Uniforme",icon:"üë®‚Äç‚öïÔ∏è",basePrice:15e3},{value:"apron",label:"Tablier",icon:"üë®‚Äçüç≥",basePrice:8e3},{value:"cap",label:"Casquette",icon:"üß¢",basePrice:3e3},{value:"bag",label:"Sac",icon:"üéí",basePrice:4e3},{value:"other",label:"Autre",icon:"üì¶",basePrice:0}],h=[{value:"simple",label:"Simple (1 couleur)",priceMultiplier:1},{value:"complex",label:"Complexe (2-3 couleurs)",priceMultiplier:1.5},{value:"fullcolor",label:"Full Color",priceMultiplier:2},{value:"special",label:"Effet sp√©cial",priceMultiplier:2.5}],x=()=>{const e=u.find(e=>e.value===d.orderType),s=h.find(e=>e.value===d.designType);if(!e||!s)return 0;return e.basePrice*s.priceMultiplier*(d.quantity||1)};return t.jsxs("div",{className:"orders-new-page",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("button",{className:"btn-back",onClick:()=>o("/app/dashboard"),children:[t.jsx(a,{}),"Retour au Dashboard"]}),t.jsxs("h1",{className:"page-title",children:[t.jsx(i,{}),"Nouvelle Commande"]}),t.jsx("p",{className:"page-subtitle",children:"Cr√©ez une nouvelle commande pour votre client"})]}),t.jsx("div",{className:"form-container",children:t.jsxs("form",{onSubmit:e=>{e.preventDefault();const s=Math.floor(1e4*Math.random())+1e3;alert(`Commande #CMD-${s} cr√©√©e avec succ√®s !\n\nClient: ${d.clientName}\nMontant total: ${new Intl.NumberFormat("fr-MG",{style:"currency",currency:"MGA"}).format(x())}\n\nRedirection vers le dashboard...`),setTimeout(()=>{o("/app/dashboard")},1500)},children:[t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("div",{className:"section-icon",children:t.jsx(l,{})}),t.jsx("h2",{children:"Informations Client"})]}),t.jsxs("div",{className:"client-selection",children:[t.jsx("h3",{children:"S√©lectionnez un client existant"}),t.jsx("div",{className:"clients-grid",children:p.map(e=>t.jsxs("div",{className:"client-card "+(d.clientName===e.name?"selected":""),onClick:()=>(e=>{m(s=>({...s,clientName:e.name,clientEmail:e.email,clientPhone:e.phone}))})(e),children:[t.jsx("div",{className:"client-avatar",children:e.name.charAt(0)}),t.jsxs("div",{className:"client-info",children:[t.jsx("h4",{children:e.name}),t.jsx("p",{children:e.email}),t.jsx("p",{children:e.phone})]})]},e.id))}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Nom du Client *"}),t.jsx("input",{type:"text",value:d.clientName,onChange:e=>m(s=>({...s,clientName:e.target.value})),placeholder:"Nom complet du client",required:!0})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email"}),t.jsx("input",{type:"email",value:d.clientEmail,onChange:e=>m(s=>({...s,clientEmail:e.target.value})),placeholder:"email@exemple.mg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"T√©l√©phone"}),t.jsx("input",{type:"tel",value:d.clientPhone,onChange:e=>m(s=>({...s,clientPhone:e.target.value})),placeholder:"+261 34 12 345 67"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("div",{className:"section-icon",children:t.jsx(i,{})}),t.jsx("h2",{children:"D√©tails de la Commande"})]}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Type de Produit *"}),t.jsx("div",{className:"product-types",children:u.map(e=>t.jsxs("div",{className:"product-type "+(d.orderType===e.value?"selected":""),onClick:()=>m(s=>({...s,orderType:e.value,pricePerUnit:e.basePrice})),children:[t.jsx("span",{className:"type-icon",children:e.icon}),t.jsx("span",{className:"type-label",children:e.label}),t.jsx("span",{className:"type-price",children:new Intl.NumberFormat("fr-MG",{style:"currency",currency:"MGA"}).format(e.basePrice)})]},e.value))})]})}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Type de Design *"}),t.jsx("div",{className:"design-types",children:h.map(e=>t.jsxs("div",{className:"design-type "+(d.designType===e.value?"selected":""),onClick:()=>m(s=>({...s,designType:e.value})),children:[t.jsx("span",{className:"design-label",children:e.label}),t.jsxs("span",{className:"design-multiplier",children:["√ó",e.priceMultiplier]})]},e.value))})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Quantit√© *"}),t.jsxs("div",{className:"quantity-selector",children:[t.jsx("button",{type:"button",className:"quantity-btn",onClick:()=>m(e=>({...e,quantity:Math.max(1,e.quantity-1)})),children:"-"}),t.jsx("input",{type:"number",min:"1",max:"1000",value:d.quantity,onChange:e=>m(s=>({...s,quantity:Math.min(1e3,Math.max(1,parseInt(e.target.value)||1))})),className:"quantity-input"}),t.jsx("button",{type:"button",className:"quantity-btn",onClick:()=>m(e=>({...e,quantity:Math.min(1e3,e.quantity+1)})),children:"+"}),t.jsx("span",{className:"quantity-label",children:"pi√®ces"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Instructions Sp√©ciales"}),t.jsx("textarea",{value:d.specialInstructions,onChange:e=>m(s=>({...s,specialInstructions:e.target.value})),placeholder:"D√©tails du design, couleurs sp√©cifiques, placement, etc.",rows:"4"})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("div",{className:"section-icon",children:t.jsx(r,{})}),t.jsx("h2",{children:"Livraison & Priorit√©"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date de Livraison Souhait√©e *"}),t.jsx("input",{type:"date",value:d.dueDate,onChange:e=>m(s=>({...s,dueDate:e.target.value})),required:!0,min:(new Date).toISOString().split("T")[0]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Priorit√© *"}),t.jsxs("div",{className:"priority-selector",children:[t.jsxs("div",{className:"priority-option "+("low"===d.priority?"selected":""),onClick:()=>m(e=>({...e,priority:"low"})),children:[t.jsx("span",{className:"priority-dot low"}),t.jsx("span",{className:"priority-label",children:"Basse"})]}),t.jsxs("div",{className:"priority-option "+("medium"===d.priority?"selected":""),onClick:()=>m(e=>({...e,priority:"medium"})),children:[t.jsx("span",{className:"priority-dot medium"}),t.jsx("span",{className:"priority-label",children:"Moyenne"})]}),t.jsxs("div",{className:"priority-option "+("high"===d.priority?"selected":""),onClick:()=>m(e=>({...e,priority:"high"})),children:[t.jsx("span",{className:"priority-dot high"}),t.jsx("span",{className:"priority-label",children:"Haute"})]}),t.jsxs("div",{className:"priority-option "+("urgent"===d.priority?"selected":""),onClick:()=>m(e=>({...e,priority:"urgent"})),children:[t.jsx("span",{className:"priority-dot urgent"}),t.jsx("span",{className:"priority-label",children:"Urgent"})]})]})]})]})]}),t.jsxs("div",{className:"form-section price-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("div",{className:"section-icon",children:t.jsx(n,{})}),t.jsx("h2",{children:"Calcul du Prix"})]}),t.jsxs("div",{className:"price-summary",children:[t.jsxs("div",{className:"price-row",children:[t.jsx("span",{className:"price-label",children:"Prix unitaire:"}),t.jsx("span",{className:"price-value",children:new Intl.NumberFormat("fr-MG",{style:"currency",currency:"MGA"}).format(d.pricePerUnit)})]}),t.jsxs("div",{className:"price-row",children:[t.jsxs("span",{className:"price-label",children:["Multiplicateur design (",h.find(e=>e.value===d.designType)?.label,"):"]}),t.jsxs("span",{className:"price-value",children:["√ó",h.find(e=>e.value===d.designType)?.priceMultiplier]})]}),t.jsxs("div",{className:"price-row",children:[t.jsx("span",{className:"price-label",children:"Quantit√©:"}),t.jsxs("span",{className:"price-value",children:[d.quantity," pi√®ces"]})]}),t.jsx("div",{className:"price-divider"}),t.jsxs("div",{className:"price-row total",children:[t.jsx("span",{className:"price-label",children:"Total:"}),t.jsx("span",{className:"price-value",children:new Intl.NumberFormat("fr-MG",{style:"currency",currency:"MGA"}).format(x())})]}),t.jsxs("div",{className:"price-row deposit",children:[t.jsx("span",{className:"price-label",children:"Acompte recommand√© (50%):"}),t.jsx("span",{className:"price-value",children:new Intl.NumberFormat("fr-MG",{style:"currency",currency:"MGA"}).format(.5*x())})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Montant de l'acompte"}),t.jsx("input",{type:"number",value:d.deposit,onChange:e=>m(s=>({...s,deposit:Math.min(x(),Math.max(0,parseInt(e.target.value)||0))})),min:"0",max:x()})]})]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o("/app/dashboard"),children:"Annuler"}),t.jsxs("button",{type:"submit",className:"btn-primary",children:[t.jsx(c,{}),"Cr√©er la Commande"]})]})]})})]})};export{o as default};
