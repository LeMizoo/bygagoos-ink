import{b as e}from"./vendor-CdERBfzr.js";import{A as s,j as a}from"./index-CHAJO785.js";const i=()=>{const{user:i}=e.useContext(s),[l,n]=e.useState(null),[t,c]=e.useState(!0),[r,d]=e.useState(null),[o,m]=e.useState(!1),[h,x]=e.useState(1),[j,p]=e.useState(5);e.useEffect(()=>{const e=()=>{m(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const u=e.useMemo(()=>[{id:"BG-1245",client:"Boutique MadaStyle",produit:"T-shirts logo","quantitÃ©":"150",statut:"Impression","dÃ©lai":"2 jours"},{id:"BG-1244",client:"Ã‰cole Les Petits GÃ©nies",produit:"Polos scolaire","quantitÃ©":"300",statut:"SÃ©chage","dÃ©lai":"3 jours"},{id:"BG-1243",client:"Restaurant La Terrasse",produit:"Tabliers staff","quantitÃ©":"25",statut:"TerminÃ©","dÃ©lai":"LivrÃ©"},{id:"BG-1242",client:"Startup TechMG",produit:"Sweatshirts","quantitÃ©":"80",statut:"Design","dÃ©lai":"5 jours"},{id:"BG-1241",client:"HÃ´tel Tropical",produit:"Uniforme staff","quantitÃ©":"45",statut:"SÃ©chage","dÃ©lai":"1 jour"},{id:"BG-1240",client:"Club Sportif",produit:"Maillots Ã©quipe","quantitÃ©":"120",statut:"TerminÃ©","dÃ©lai":"LivrÃ©"},{id:"BG-1239",client:"UniversitÃ© MG",produit:"Sweatshirts promotion","quantitÃ©":"200",statut:"Impression","dÃ©lai":"4 jours"},{id:"BG-1238",client:"CafÃ© Artisanal",produit:"Tabliers barista","quantitÃ©":"30",statut:"TerminÃ©","dÃ©lai":"LivrÃ©"},{id:"BG-1237",client:"Association Sportive",produit:"T-shirts Ã©vÃ©nement","quantitÃ©":"180",statut:"SÃ©chage","dÃ©lai":"2 jours"},{id:"BG-1236",client:"Entreprise Tech",produit:"Pulls corporate","quantitÃ©":"75",statut:"Design","dÃ©lai":"6 jours"}],[]);e.useEffect(()=>{N()},[]);const N=async()=>{try{c(!0),d(null);n({totalRevenue:85e5,totalOrders:24,newClients:12,stockLevel:85,pendingOrders:8,completedOrders:12,activeClients:42,lowStockItems:3,monthlyGrowth:12.5})}catch(e){d("Impossible de charger les donnÃ©es")}finally{c(!1)}},v=u.length,b=Math.ceil(v/j),g=h*j,f=g-j,w=u.slice(f,g),y=({order:e})=>a.jsxs("div",{className:"mobile-order-card",children:[a.jsxs("div",{className:"mobile-order-header",children:[a.jsxs("span",{className:"mobile-order-id",children:["#",e.id]}),a.jsx("span",{className:`mobile-order-status status-${C(e.statut)}`,children:e.statut})]}),a.jsx("div",{className:"mobile-order-client",children:e.client}),a.jsxs("div",{className:"mobile-order-details",children:[a.jsxs("div",{className:"mobile-order-detail",children:[a.jsx("span",{className:"detail-label",children:"Produit:"}),a.jsx("span",{className:"detail-value",children:e.produit})]}),a.jsxs("div",{className:"mobile-order-detail",children:[a.jsx("span",{className:"detail-label",children:"QuantitÃ©:"}),a.jsx("span",{className:"detail-value quantity",children:e.quantitÃ©})]}),a.jsxs("div",{className:"mobile-order-detail",children:[a.jsx("span",{className:"detail-label",children:"DÃ©lai:"}),a.jsx("span",{className:`detail-value deadline ${S(e.dÃ©lai)}`,children:e.dÃ©lai})]})]})]}),C=e=>{const s=e.toLowerCase();return s.includes("impression")?"impression":s.includes("sÃ©chage")?"sechage":s.includes("terminÃ©")||s.includes("livrÃ©")?"termine":s.includes("design")?"design":"default"},S=e=>"livrÃ©"===e.toLowerCase()?"delivered":"pending";if(t)return a.jsxs("div",{className:"dashboard-loading",children:[a.jsx("div",{className:"loading-spinner-large"}),a.jsx("p",{children:"Chargement du tableau de bord..."})]});if(r&&!l)return a.jsxs("div",{className:"dashboard-error",children:[a.jsx("div",{className:"error-icon",children:"âš ï¸"}),a.jsx("h3",{children:"Erreur de chargement"}),a.jsx("p",{children:r}),a.jsx("button",{onClick:N,className:"btn-retry",children:"RÃ©essayer"})]});const k=[{label:"Commandes en cours",value:l?.pendingOrders||8,change:"+3 cette semaine",icon:"ðŸ–¨ï¸",color:"#4cc9f0",detail:"8 urgentes"},{label:"Clients Actifs",value:l?.activeClients||42,change:"+2 nouveaux",icon:"ðŸ‘”",color:"#4361ee",detail:"42 clients"},{label:"Chiffre d'affaires",value:l?.totalRevenue?`${(l.totalRevenue/1e6).toFixed(1)}M Ar`:"8.5M Ar",change:l?.monthlyGrowth?`+${l.monthlyGrowth}%`:"+15%",icon:"ðŸ’°",color:"#ffd166",detail:"â‰ˆ 1 700â‚¬"},{label:"Satisfaction",value:"98%",change:"+2%",icon:"â­",color:"#06d6a0",detail:"32 avis"}],q=[{type:"stock",message:"Encre noir bas (2L restant)",priority:"high"},{type:"order",message:"#BG-1245 Ã  expÃ©dier",priority:"medium"},{type:"maintenance",message:"Machine 2 entretien",priority:"low"}];return a.jsxs("div",{className:"dashboard-container",children:[a.jsxs("div",{className:"dashboard-header-section",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h1",{className:"dashboard-title",children:o?"Tableau de Bord":"Tableau de Bord Atelier"}),a.jsx("p",{className:"dashboard-subtitle",children:o?"ByGagoos Ink":"ByGagoos Ink â€¢ SÃ©rigraphie Textile Familiale"}),a.jsxs("div",{className:"welcome-section",children:[a.jsx("span",{className:"welcome-text",children:"Bienvenue,"}),a.jsx("span",{className:"user-name",children:o?i?.name?.split(" ")[0]||"Famille":i?.name||"Membre de la famille"}),a.jsxs("span",{className:"user-role",children:["(",i?.role||"admin",")"]})]})]}),a.jsxs("div",{className:"header-actions-section",children:[a.jsxs("div",{className:"status-indicator",children:[a.jsx("span",{className:"status-dot online"}),a.jsx("span",{className:"status-text",children:o?"Ouvert":"Atelier ouvert"})]}),a.jsx("button",{className:"btn-primary-action",onClick:()=>window.location.href="/app/orders/new",children:o?a.jsx("span",{className:"btn-icon",children:"âž•"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"btn-icon",children:"âž•"}),"Nouvelle Commande"]})})]})]}),a.jsxs("div",{className:"stats-section",children:[a.jsx("h2",{className:"section-title",children:o?"ðŸ“Š Performances":"ðŸ“Š AperÃ§u des performances"}),a.jsx("div",{className:"stats-grid",children:k.map((e,s)=>a.jsx("div",{className:"stat-card",style:{"--stat-color":e.color},children:a.jsxs("div",{className:"stat-card-inner",children:[a.jsx("div",{className:"stat-icon-container",children:a.jsx("span",{className:"stat-icon",style:{color:e.color},children:e.icon})}),a.jsxs("div",{className:"stat-content",children:[a.jsx("div",{className:"stat-value",children:e.value}),a.jsx("div",{className:"stat-label",children:o?e.label.split(" ")[0]:e.label}),a.jsxs("div",{className:"stat-change-container",children:[a.jsx("span",{className:"stat-change "+(e.change.includes("+")?"positive":"negative"),children:e.change}),!o&&e.detail&&a.jsx("span",{className:"stat-detail",children:e.detail})]})]})]})},s))})]}),a.jsxs("div",{className:"dashboard-content-grid",children:[a.jsxs("div",{className:"main-content-column",children:[a.jsxs("div",{className:"content-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsxs("h3",{className:"card-title",children:[a.jsx("span",{className:"card-icon",children:"ðŸ–¨ï¸"}),o?"Commandes":"Commandes RÃ©centes",a.jsx("span",{className:"total-orders-badge",children:v})]}),a.jsx("a",{href:"/app/orders",className:"view-all-link",children:o?"Tout â†’":"Voir tout â†’"})]}),o?a.jsx("div",{className:"mobile-orders-list",children:w.map((e,s)=>a.jsx(y,{order:e},s))}):a.jsx(a.Fragment,{children:a.jsx("div",{className:"table-responsive-container",children:a.jsx("div",{className:"table-wrapper",children:a.jsxs("table",{className:"dashboard-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"NÂ° Commande"}),a.jsx("th",{className:"table-header",children:"Client"}),a.jsx("th",{className:"table-header",children:"Produit"}),a.jsx("th",{className:"table-header",children:"QuantitÃ©"}),a.jsx("th",{className:"table-header",children:"Statut"}),a.jsx("th",{className:"table-header",children:"DÃ©lai"})]})}),a.jsx("tbody",{children:w.map((e,s)=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"order-id-cell",children:a.jsxs("span",{className:"order-id",children:["#",e.id]})}),a.jsx("td",{className:"client-cell",children:a.jsx("div",{className:"client-info",children:a.jsx("span",{className:"client-name",children:e.client})})}),a.jsx("td",{className:"product-cell",children:a.jsx("span",{className:"product-text",children:e.produit})}),a.jsx("td",{className:"quantity-cell",children:a.jsx("span",{className:"quantity-badge",children:e.quantitÃ©})}),a.jsx("td",{className:"status-cell",children:a.jsx("span",{className:`status-tag status-${C(e.statut)}`,children:e.statut})}),a.jsx("td",{className:"deadline-cell",children:a.jsx("span",{className:`deadline ${S(e.dÃ©lai)}`,children:e.dÃ©lai})})]},s))})]})})})}),a.jsxs("div",{className:"pagination-controls",children:[!o&&a.jsx("div",{className:"pagination-info",children:a.jsxs("span",{children:["Affichage ",f+1," Ã  ",Math.min(g,v)," sur ",v]})}),a.jsxs("div",{className:"pagination-buttons",children:[a.jsx("button",{className:"pagination-btn prev-btn",onClick:()=>{h>1&&x(h-1)},disabled:1===h,"aria-label":"Page prÃ©cÃ©dente",children:o?"â†":"â† PrÃ©cÃ©dent"}),a.jsxs("div",{className:"page-indicator",children:[a.jsx("span",{className:"current-page",children:h}),a.jsx("span",{className:"page-separator",children:"/"}),a.jsx("span",{className:"total-pages",children:b})]}),a.jsx("button",{className:"pagination-btn next-btn",onClick:()=>{h<b&&x(h+1)},disabled:h===b,"aria-label":"Page suivante",children:o?"â†’":"Suivant â†’"})]}),a.jsxs("div",{className:"rows-per-page-selector",children:[!o&&a.jsx("label",{htmlFor:"rowsPerPage",children:"Lignes:"}),a.jsxs("select",{id:"rowsPerPage",value:j,onChange:e=>{p(parseInt(e.target.value)),x(1)},className:"rows-select","aria-label":"Nombre de lignes par page",children:[a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"10",children:"10"}),!o&&a.jsx("option",{value:"20",children:"20"}),!o&&a.jsx("option",{value:"50",children:"50"})]})]})]})]}),a.jsxs("div",{className:"content-card",children:[a.jsx("div",{className:"card-header",children:a.jsxs("h3",{className:"card-title",children:[a.jsx("span",{className:"card-icon",children:"âš¡"}),o?"Actions":"Actions Rapides"]})}),a.jsx("div",{className:"quick-actions-grid",children:[{icon:"ðŸ‘¥",title:"Clients",description:"GÃ©rer les clients",link:"/app/clients"},{icon:"ðŸ­",title:"Production",description:"Suivi des commandes",link:"/app/production"},{icon:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",title:"Ã‰quipe",description:"Voir l'Ã©quipe",link:"/app/family"},{icon:"ðŸ“‹",title:"Commandes",description:"Historique complet",link:"/app/orders"}].map((e,s)=>a.jsxs("div",{className:"quick-action-card",onClick:()=>window.location.href=e.link,children:[a.jsx("div",{className:"action-icon",children:e.icon}),a.jsxs("div",{className:"action-content",children:[a.jsx("h4",{className:"action-title",children:e.title}),!o&&a.jsx("p",{className:"action-description",children:e.description})]})]},s))})]})]}),!o&&a.jsxs("div",{className:"sidebar-content-column",children:[a.jsxs("div",{className:"content-card",children:[a.jsx("div",{className:"card-header",children:a.jsxs("h3",{className:"card-title",children:[a.jsx("span",{className:"card-icon",children:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦"}),"Ã‰quipe en Ligne"]})}),a.jsx("div",{className:"team-list",children:[{name:"Papa",role:"PrÃ©paration Ã©crans",status:"online",avatar:"ðŸ‘¨"},{name:"Maman",role:"Impression",status:"online",avatar:"ðŸ‘©"},{name:"Junior",role:"SÃ©chage",status:"online",avatar:"ðŸ‘¦"},{name:"Soeur",role:"Emballage",status:"offline",avatar:"ðŸ‘§"}].map((e,s)=>a.jsxs("div",{className:`team-member ${e.status}`,children:[a.jsx("div",{className:"member-avatar",children:e.avatar}),a.jsxs("div",{className:"member-info",children:[a.jsx("div",{className:"member-name",children:e.name}),a.jsx("div",{className:"member-role",children:e.role})]}),a.jsx("div",{className:"member-status-indicator",children:a.jsx("div",{className:`status-dot ${e.status}`})})]},s))})]}),a.jsxs("div",{className:"content-card",children:[a.jsx("div",{className:"card-header",children:a.jsxs("h3",{className:"card-title",children:[a.jsx("span",{className:"card-icon",children:"âš ï¸"}),"Alertes"]})}),a.jsx("div",{className:"alerts-list",children:q.map((e,s)=>a.jsxs("div",{className:`alert-item priority-${e.priority}`,children:[a.jsx("div",{className:"alert-icon",children:"stock"===e.type?"ðŸ“¦":"order"===e.type?"ðŸ“‹":"ðŸ”§"}),a.jsx("div",{className:"alert-content",children:e.message})]},s))})]})]})]}),a.jsx("div",{className:"dashboard-footer",children:a.jsxs("div",{className:"footer-content",children:[a.jsxs("div",{className:"company-info",children:[a.jsx("span",{className:"company-icon",children:"ðŸ‘•"}),a.jsxs("div",{className:"company-text",children:[a.jsx("strong",{children:"ByGagoos Ink"}),!o&&a.jsx("span",{children:"SÃ©rigraphie Textile Familiale depuis 2010"})]})]}),!o&&a.jsxs("div",{className:"footer-stats",children:[a.jsxs("div",{className:"footer-stat",children:[a.jsx("span",{className:"stat-value",children:"98%"}),a.jsx("span",{className:"stat-label",children:"Satisfaction"})]}),a.jsxs("div",{className:"footer-stat",children:[a.jsx("span",{className:"stat-value",children:"24%"}),a.jsx("span",{className:"stat-label",children:"Croissance"})]}),a.jsxs("div",{className:"footer-stat",children:[a.jsx("span",{className:"stat-value",children:"42"}),a.jsx("span",{className:"stat-label",children:"Clients"})]})]})]})}),o&&a.jsxs("div",{className:"mobile-bottom-nav",children:[a.jsxs("div",{className:"mobile-nav-item",onClick:()=>window.location.href="/app/family",children:[a.jsx("span",{className:"nav-icon",children:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦"}),a.jsx("span",{className:"nav-label",children:"Ã‰quipe"})]}),a.jsxs("div",{className:"mobile-nav-item",onClick:()=>window.location.href="/app/production",children:[a.jsx("span",{className:"nav-icon",children:"ðŸ­"}),a.jsx("span",{className:"nav-label",children:"Production"})]}),a.jsxs("div",{className:"mobile-nav-item",onClick:()=>window.location.href="/app/clients",children:[a.jsx("span",{className:"nav-icon",children:"ðŸ‘¥"}),a.jsx("span",{className:"nav-label",children:"Clients"})]}),a.jsxs("div",{className:"mobile-nav-item alerts-nav",onClick:()=>{alert(q.map(e=>e.message).join("\n"))},children:[a.jsx("span",{className:"nav-icon",children:"âš ï¸"}),a.jsx("span",{className:"nav-label",children:"Alertes"}),q.length>0&&a.jsx("span",{className:"alert-count",children:q.length})]})]})]})};export{i as default};
