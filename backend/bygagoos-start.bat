@echo off
cls
color 0A
echo.
echo  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó    ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó
echo ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù    ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïù
echo ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïó ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó    ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù 
echo ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë  ‚ïö‚ñà‚ñà‚ïî‚ïù  ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ïó 
echo ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù   ‚ñà‚ñà‚ïë   ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïó
echo  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù    ‚ïö‚ïê‚ïù    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù    ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù
echo.
echo ================================ BYGAGOOS INK ================================
echo.

:menu
echo 1. Ì∫Ä D√©marrer TOUT (Recommand√©)
echo 2. Ì∞≥ D√©marrer seulement Docker
echo 3. ‚öôÔ∏è  D√©marrer seulement Backend
echo 4. Ìæ® D√©marrer seulement Prisma Studio
echo 5. Ì¥ç Tester l'API
echo 6. Ì∫™ Quitter
echo.
set /p choice="Choisissez une option (1-6): "

if "%choice%"=="1" goto start_all
if "%choice%"=="2" goto start_docker
if "%choice%"=="3" goto start_backend
if "%choice%"=="4" goto start_prisma
if "%choice%"=="5" goto test_api
if "%choice%"=="6" goto exit

echo Choix invalide
goto menu

:start_all
echo.
echo Ì¥ß Arr√™t des processus...
taskkill /F /IM node.exe 2>nul
echo Ì∞≥ D√©marrage Docker...
docker-compose -f docker-compose.db.yml down
docker-compose -f docker-compose.db.yml up -d
timeout 5
echo ‚öôÔ∏è  D√©marrage Backend...
start "ByGagoos Backend" cmd /k "npm run dev"
timeout 3
echo Ìæ® D√©marrage Prisma Studio...
start "Prisma Studio" cmd /k "npx prisma studio"
echo.
echo ‚úÖ TOUT EST D√âMARR√â !
goto show_urls

:start_docker
echo.
echo Ì∞≥ D√©marrage Docker...
docker-compose -f docker-compose.db.yml down
docker-compose -f docker-compose.db.yml up -d
goto show_urls

:start_backend
echo.
echo ‚öôÔ∏è  D√©marrage Backend...
start "ByGagoos Backend" cmd /k "npm run dev"
goto show_urls

:start_prisma
echo.
echo Ìæ® D√©marrage Prisma Studio...
start "Prisma Studio" cmd /k "npx prisma studio"
goto show_urls

:test_api
echo.
echo Ì¥ç Test de l'API...
curl http://localhost:3001/api/health 2>nul
echo.
curl http://localhost:3001/api/db-check 2>nul
echo.
pause
goto menu

:show_urls
echo.
echo ================================
echo Ìºê URLs IMPORTANTES :
echo    Backend API : http://localhost:3001
echo    Prisma Studio : http://localhost:5555
echo    PGAdmin : http://localhost:5050
echo.
echo Ì¥ë Identifiants :
echo    Email : tovoniaina.rahendrison@gmail.com
echo    Password : ByGagoos2025!
echo ================================
echo.
pause
goto menu

:exit
echo.
echo Au revoir ! Ì±ã
timeout 2
exit
