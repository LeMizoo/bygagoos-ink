generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"  // ← CHANGÉ de "sqlite" à "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                  Int      @id @default(autoincrement())
  email               String   @unique
  password            String
  firstName           String   @map("first_name")
  lastName            String   @map("last_name")
  phone               String?
  role                String   @default("FAMILY_MEMBER")
  familyRole          String
  avatar              String?
  isActive            Boolean  @default(true) @map("is_active")
  lastLogin           DateTime? @map("last_login")
  mustChangePassword  Boolean  @default(true) @map("must_change_password")
  resetToken          String?  @map("reset_token")
  resetTokenExpiry    DateTime? @map("reset_token_expiry")
  createdAt           DateTime @default(now()) @map("created_at")
  updatedAt           DateTime @updatedAt @map("updated_at")

  @@map("users")
}

model Inventory {
  id        Int     @id @default(autoincrement())
  itemType  String
  itemName  String
  color     String?
  size      String?
  quantity  Int     @default(0)
  minimumStock Int @default(0)
  unitCost  Int?
  supplier  String?
  location  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("inventory")
}